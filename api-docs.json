{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/notes/{defiId}/{utilistateurId}":{"get":{"tags":["note-rest-controller"],"operationId":"getNote","parameters":[{"name":"defiId","in":"path","required":true,"schema":{"type":"string"}},{"name":"utilistateurId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteDTO"}}}}}},"put":{"tags":["note-rest-controller"],"operationId":"updateNote","parameters":[{"name":"defiId","in":"path","required":true,"schema":{"type":"string"}},{"name":"utilistateurId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"integer","format":"int32"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteDTO"}}}}}}},"/api/defis/{id}":{"get":{"tags":["defi-rest-controller"],"operationId":"getById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefiDTO"}}}}}},"put":{"tags":["defi-rest-controller"],"operationId":"updateDefi","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefiDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefiDTO"}}}}}}},"/api/defibuilder/":{"put":{"tags":["creation-rest-controller"],"operationId":"createOrUpdateDefi","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefiCreateDTO"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefiCreateDTO"}}}}}},"post":{"tags":["creation-rest-controller"],"operationId":"createDefi_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefiCreateDTO"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefiCreateDTO"}}}}}}},"/api/commentaires/":{"put":{"tags":["commentaire-rest-controller"],"operationId":"createOrUpdateCom","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentaireDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentaireDTO"}}}}}}},"/api/chamis/{id}":{"get":{"tags":["chami-rest-controller"],"operationId":"getById_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChamiDTO"}}}}}},"put":{"tags":["chami-rest-controller"],"operationId":"updateChami","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChamiDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChamiDTO"}}}}}},"delete":{"tags":["chami-rest-controller"],"operationId":"deleteChami","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/chamis/google/{idGoogle}":{"get":{"tags":["chami-rest-controller"],"operationId":"getByIdGoogle","parameters":[{"name":"idGoogle","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChamiDTO"}}}}}},"put":{"tags":["chami-rest-controller"],"operationId":"updateChami_1","parameters":[{"name":"idGoogle","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChamiDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChamiDTO"}}}}}},"delete":{"tags":["chami-rest-controller"],"operationId":"deleteChami_1","parameters":[{"name":"idGoogle","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/notes/":{"post":{"tags":["note-rest-controller"],"operationId":"createNote","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteDTO"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteDTO"}}}}}}},"/api/game/start-game":{"post":{"tags":["game-rest-controller"],"operationId":"startGame","parameters":[{"name":"defiId","in":"query","required":true,"schema":{"type":"string"}},{"name":"userId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VisiteDTO"}}}}}}},"/api/game/reveal-indice":{"post":{"tags":["game-rest-controller"],"operationId":"revealIndice","parameters":[{"name":"visiteId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IndiceDTO"}}}}}}},"/api/game/previsous-etape":{"post":{"tags":["game-rest-controller"],"operationId":"etapePrecedente","parameters":[{"name":"visiteId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VisiteDTO"}}}}}}},"/api/game/next-etape":{"post":{"tags":["game-rest-controller"],"operationId":"etapeSuivante","parameters":[{"name":"visiteId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VisiteDTO"}}}}}}},"/api/game/edit-status":{"post":{"tags":["game-rest-controller"],"operationId":"editStatus","parameters":[{"name":"visiteId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"status","in":"query","required":true,"schema":{"type":"string","enum":["ENCOURS","ABONDON","FINISHED","PAUSE"]}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string","enum":["ENCOURS","ABONDON","FINISHED","PAUSE"]}}}}}}},"/api/game/create-default-defi":{"post":{"tags":["game-rest-controller"],"operationId":"createDefaultDefi","responses":{"201":{"description":"Created"}}}},"/api/game/check-response":{"post":{"tags":["game-rest-controller"],"operationId":"checkResponse","parameters":[{"name":"visiteId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"response","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"boolean"}}}}}}},"/api/defis/":{"get":{"tags":["defi-rest-controller"],"operationId":"getDefis","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DefiDTO"}}}}}}},"post":{"tags":["defi-rest-controller"],"operationId":"createDefi","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefiDTO"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefiDTO"}}}}}}},"/api/chamis/":{"get":{"tags":["chami-rest-controller"],"operationId":"getChamis","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChamiDTO"}}}}}}},"post":{"tags":["chami-rest-controller"],"operationId":"createChami","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChamiDTO"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChamiDTO"}}}}}}},"/api/notes/{defiId}":{"get":{"tags":["note-rest-controller"],"operationId":"getNbByValue","parameters":[{"name":"defiId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RatingDefiDTO"}}}}}}},"/api/game/visite/{id}/{status}":{"get":{"tags":["game-rest-controller"],"operationId":"getVisiteByUserIdStatus","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"status","in":"path","required":true,"schema":{"type":"string","enum":["ENCOURS","ABONDON","FINISHED","PAUSE"]}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VisiteDTO"}}}}}}}},"/api/game/response-indice":{"get":{"tags":["game-rest-controller"],"operationId":"getResponseIndices","parameters":[{"name":"visiteId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/IndiceDTO"}}}}}}}},"/api/game/indice-cost":{"get":{"tags":["game-rest-controller"],"operationId":"getIndiceCost","parameters":[{"name":"visiteId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"integer","format":"int32"}}}}}}},"/api/game/get-visites-by-defi-chami/{idGoogle}":{"get":{"tags":["game-rest-controller"],"operationId":"getVisitesFinishedByChami","parameters":[{"name":"idGoogle","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"202":{"description":"Accepted","content":{"application/json":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/VisiteDTO"}}}}}}}},"/api/game/get-visite":{"get":{"tags":["game-rest-controller"],"operationId":"getVisites","parameters":[{"name":"visiteId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VisiteDTO"}}}}}}},"/api/game/continue-visite":{"get":{"tags":["game-rest-controller"],"operationId":"visiteCourante","parameters":[{"name":"defiId","in":"query","required":true,"schema":{"type":"string"}},{"name":"userId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VisiteDTO"}}}}}}},"/api/defis/tags/count":{"get":{"tags":["defi-rest-controller"],"operationId":"getTagCount","responses":{"202":{"description":"Accepted","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TagCount"}}}}}}}},"/api/defis/tag/{id}":{"get":{"tags":["defi-rest-controller"],"operationId":"getDefisBy","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"202":{"description":"Accepted","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DefiDTO"}}}}}}}},"/api/defis/finished/{id}":{"get":{"tags":["defi-rest-controller"],"operationId":"getDefisFinishedByChami","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"202":{"description":"Accepted","content":{"application/json":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/DefiDTO"}}}}}}}},"/api/defis/defi/{id}":{"get":{"tags":["defi-rest-controller"],"operationId":"getByChami","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/DefiDTO"}}}}}}}},"/api/defis/defi/{id}/{statut}":{"get":{"tags":["defi-rest-controller"],"operationId":"getDefisByUserStatut","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"statut","in":"path","required":true,"schema":{"type":"string","enum":["ENCOURS","ABONDON","FINISHED","PAUSE"]}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/DefiDTO"}}}}}}}},"/api/defis/defi/nbDefiByChami":{"get":{"tags":["defi-rest-controller"],"operationId":"getNbDefiByAuteur","responses":{"202":{"description":"Accepted","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DefiCount"}}}}}}}},"/api/defis/defi/nbChamis":{"get":{"tags":["defi-rest-controller"],"operationId":"getDefiNbChamis","responses":{"202":{"description":"Accepted","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChamisCount"}}}}}}}},"/api/defis/created/{id}":{"get":{"tags":["defi-rest-controller"],"operationId":"getDefisCreatedByChami","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"202":{"description":"Accepted","content":{"application/json":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/DefiDTO"}}}}}}}},"/api/defibuilder/{id}":{"get":{"tags":["creation-rest-controller"],"operationId":"getFullDefi","parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefiCreateDTO"}}}}}},"delete":{"tags":["creation-rest-controller"],"operationId":"deleteDefi","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/commentaires/{idDefi}/{idChami}":{"get":{"tags":["commentaire-rest-controller"],"operationId":"getCommentairesByDefiAndChami","parameters":[{"name":"idDefi","in":"path","required":true,"schema":{"type":"string"}},{"name":"idChami","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/CommentaireDTO"}}}}}}}},"/api/commentaires/{defiId}":{"get":{"tags":["commentaire-rest-controller"],"operationId":"getCommentaires","parameters":[{"name":"defiId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/CommentaireDTO"}}}}}}}},"/api/commentaires/commentaire/{idCom}":{"get":{"tags":["commentaire-rest-controller"],"operationId":"getCommentaireById","parameters":[{"name":"idCom","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentaireDTO"}}}}}}},"/api/commentaires/chami/{idChami}":{"get":{"tags":["commentaire-rest-controller"],"operationId":"getCommentairesByChami","parameters":[{"name":"idChami","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/CommentaireDTO"}}}}}}}},"/api/defis/commentaire/{id}":{"delete":{"tags":["defi-rest-controller"],"operationId":"deleteCommentaireFromDefi","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"NoteDTO":{"type":"object","properties":{"idDefi":{"type":"string"},"idUtilisateur":{"type":"integer","format":"int64"},"valeur":{"type":"integer","format":"int32"}}},"ArretDTO":{"type":"object","properties":{"codeArret":{"type":"string"},"nomArret":{"type":"string"},"ville":{"type":"string"},"latitude":{"type":"number","format":"double"},"longitude":{"type":"number","format":"double"}}},"ChamiDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"idGoogle":{"type":"string"},"age":{"type":"integer","format":"int32"},"bio":{"type":"string"},"username":{"type":"string"},"profileImg":{"type":"string"}}},"DefiDTO":{"type":"object","properties":{"id":{"type":"string"},"titre":{"type":"string"},"description":{"type":"string"},"miniDescription":{"type":"string"},"version":{"type":"integer","format":"int64"},"duree":{"type":"string"},"auteur":{"$ref":"#/components/schemas/ChamiDTO"},"noteMoyenne":{"type":"number","format":"double"},"tags":{"type":"array","items":{"$ref":"#/components/schemas/TagDTO"}},"arretDTO":{"$ref":"#/components/schemas/ArretDTO"},"etapes":{"type":"array","items":{"$ref":"#/components/schemas/EtapeDTO"}},"dateCreation":{"type":"string","format":"date-time"},"dateDeModification":{"type":"string","format":"date-time"},"pointTotaux":{"type":"integer","format":"int32"},"img":{"type":"string"}}},"EtapeDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"titre":{"type":"string"},"numero":{"type":"integer","format":"int32"},"description":{"type":"string"},"banner":{"type":"string"},"type":{"type":"string","enum":["TacheDTO","IndicationDTO"]},"text":{"type":"string"},"video":{"type":"string"},"image":{"type":"string"},"question":{"type":"string"},"point":{"type":"integer","format":"int32"},"nbIndices":{"type":"integer","format":"int32"}}},"TagDTO":{"type":"object","properties":{"tag":{"type":"string"},"defiIds":{"type":"array","items":{"type":"string"}}}},"DefiCreateDTO":{"type":"object","properties":{"id":{"type":"string"},"titre":{"type":"string"},"miniDescription":{"type":"string"},"description":{"type":"string"},"img":{"type":"string"},"version":{"type":"integer","format":"int64"},"duree":{"type":"string"},"auteurId":{"type":"integer","format":"int64"},"tags":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"arret":{"$ref":"#/components/schemas/ArretDTO"},"etapes":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/EtapeCreateDTO"}}}},"EtapeCreateDTO":{"type":"object","properties":{"idEtape":{"type":"integer","format":"int64"},"titreEtape":{"type":"string"},"descriptionEtape":{"type":"string"},"numero":{"type":"integer","format":"int32"},"banner":{"type":"string"},"type":{"type":"string","enum":["TacheDTO","IndicationDTO"]},"text":{"type":"string"},"image":{"type":"string"},"video":{"type":"string"},"question":{"type":"string"},"secret":{"type":"string"},"point":{"type":"integer","format":"int32"},"indices":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/IndiceDTO"}}}},"IndiceDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"indice":{"type":"string"},"pointsPerdus":{"type":"integer","format":"int32"},"numIndice":{"type":"integer","format":"int32"}}},"CommentaireDTO":{"type":"object","properties":{"idDefi":{"type":"string"},"idUtilisateur":{"type":"integer","format":"int64"},"idCommentaire":{"type":"integer","format":"int64"},"text":{"type":"string"}}},"ReponseDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"numero":{"type":"integer","format":"int32"},"nbIndicesUtilises":{"type":"integer","format":"int32"},"reponseUtilisateur":{"type":"string"},"isCorrect":{"type":"boolean"},"hasResponse":{"type":"boolean"}}},"VisiteDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"statut":{"type":"string","enum":["ENCOURS","ABONDON","FINISHED","PAUSE"]},"etapeCourante":{"$ref":"#/components/schemas/EtapeDTO"},"points":{"type":"integer","format":"int32"},"defi":{"$ref":"#/components/schemas/DefiDTO"},"debut":{"type":"string","format":"date-time"},"finVisite":{"type":"string","format":"date-time"},"reponseCourante":{"$ref":"#/components/schemas/ReponseDTO"}}},"RatingDTO":{"type":"object","properties":{"note":{"type":"integer","format":"int32"},"number":{"type":"integer","format":"int32"}}},"RatingDefiDTO":{"type":"object","properties":{"gradeList":{"type":"array","items":{"$ref":"#/components/schemas/RatingDTO"}},"idDefi":{"type":"string"},"nbTotalGrade":{"type":"integer","format":"int32"}}},"TagCount":{"type":"object","properties":{"tag":{"type":"string"},"count":{"type":"integer","format":"int32"}}},"DefiCount":{"type":"object","properties":{"auteurId":{"type":"integer","format":"int64"},"count":{"type":"integer","format":"int64"}}},"ChamisCount":{"type":"object","properties":{"idDefi":{"type":"string"},"count":{"type":"integer","format":"int32"}}}}}}
