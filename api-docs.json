{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/defis/{id}":{"get":{"tags":["defi-rest-controller"],"operationId":"getById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefiDTO"}}}}}},"put":{"tags":["defi-rest-controller"],"operationId":"updateDefi","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Defi"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefiDTO"}}}}}},"delete":{"tags":["defi-rest-controller"],"operationId":"deleteChami","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/chamis/{id}":{"get":{"tags":["chami-rest-controller"],"operationId":"getById_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChamiDTO"}}}}}},"put":{"tags":["chami-rest-controller"],"operationId":"updateChami","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChamiDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChamiDTO"}}}}}},"delete":{"tags":["chami-rest-controller"],"operationId":"deleteChami_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/game/start-game":{"post":{"tags":["game-rest-controller"],"operationId":"startGame","parameters":[{"name":"defiId","in":"query","required":true,"schema":{"type":"string"}},{"name":"userId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VisiteDTO"}}}}}}},"/api/game/reveal-indice":{"post":{"tags":["game-rest-controller"],"operationId":"revealIndice","parameters":[{"name":"visiteId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IndiceDTO"}}}}}}},"/api/game/previsous-etape":{"post":{"tags":["game-rest-controller"],"operationId":"etapePrecedente","parameters":[{"name":"visiteId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VisiteDTO"}}}}}}},"/api/game/next-etape":{"post":{"tags":["game-rest-controller"],"operationId":"etapeSuivante","parameters":[{"name":"visiteId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VisiteDTO"}}}}}}},"/api/game/edit-status":{"post":{"tags":["game-rest-controller"],"operationId":"editStatus","parameters":[{"name":"visiteId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"status","in":"query","required":true,"schema":{"type":"string","enum":["ENCOURS","ABONDON","FINISHED","PAUSE"]}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"string","enum":["ENCOURS","ABONDON","FINISHED","PAUSE"]}}}}}}},"/api/game/create-default-defi":{"post":{"tags":["game-rest-controller"],"operationId":"createDefaultDefi","responses":{"201":{"description":"Created"}}}},"/api/game/check-response":{"post":{"tags":["game-rest-controller"],"operationId":"checkResponse","parameters":[{"name":"visiteId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"response","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"boolean"}}}}}}},"/api/defis/":{"get":{"tags":["defi-rest-controller"],"operationId":"getDefis","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DefiDTO"}}}}}}},"post":{"tags":["defi-rest-controller"],"operationId":"createDefi","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Defi"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Defi"}}}}}}},"/api/chamis/":{"get":{"tags":["chami-rest-controller"],"operationId":"getChamis","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChamiDTO"}}}}}}},"post":{"tags":["chami-rest-controller"],"operationId":"createChami","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChamiDTO"}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChamiDTO"}}}}}}},"/api/game/response-indice":{"get":{"tags":["game-rest-controller"],"operationId":"getResponseIndices","parameters":[{"name":"visiteId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/IndiceDTO"}}}}}}}},"/api/game/get-visite":{"get":{"tags":["game-rest-controller"],"operationId":"visiteCourante","parameters":[{"name":"defiId","in":"query","required":true,"schema":{"type":"string"}},{"name":"userId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VisiteDTO"}}}}}}}},"components":{"schemas":{"Arret":{"type":"object","properties":{"codeArret":{"type":"string"},"nomArret":{"type":"string"},"streetMap":{"type":"string"}}},"Chami":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"vistes":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Visite"}},"username":{"type":"string"},"idGoogle":{"type":"string"},"age":{"minimum":13,"type":"integer","format":"int32"},"bio":{"type":"string"}}},"Commentaire":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"text":{"type":"string"}}},"Defi":{"type":"object","properties":{"id":{"type":"string"},"titre":{"type":"string"},"dateDeCreation":{"type":"string","format":"date-time"},"dateDeModification":{"type":"string","format":"date-time"},"description":{"type":"string"},"version":{"minimum":1,"type":"integer","format":"int64"},"pointTotaux":{"type":"integer","format":"int32"},"duree":{"type":"string"},"auteur":{"$ref":"#/components/schemas/Chami"},"notes":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Note"}},"commentaires":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Commentaire"}},"tags":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Tag"}},"arret":{"$ref":"#/components/schemas/Arret"},"etapes":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Etape"}},"moyenne":{"type":"number","format":"double"},"sortEtapes":{"type":"array","items":{"$ref":"#/components/schemas/Etape"}}}},"Etape":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"numero":{"minimum":0,"type":"integer","format":"int32"},"titre":{"type":"string"},"description":{"type":"string","writeOnly":true}}},"Indice":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"numIndice":{"minimum":1,"type":"integer","format":"int32"},"indice":{"type":"string"},"pointsPerdus":{"minimum":0,"type":"integer","format":"int32"}}},"Note":{"type":"object","properties":{"id":{"type":"string"},"note":{"maximum":5,"minimum":1,"type":"integer","format":"int32"}}},"Reponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"numero":{"minimum":0,"type":"integer","format":"int32"},"nbIndicesUtilises":{"minimum":-1,"type":"integer","format":"int32"},"reponseUtilisateur":{"type":"string"},"hasResponse":{"type":"boolean"},"correct":{"type":"boolean"}}},"Tag":{"type":"object","properties":{"tag":{"type":"string"},"defis":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Defi"}}}},"Visite":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"statut":{"type":"string","enum":["ENCOURS","ABONDON","FINISHED","PAUSE"]},"points":{"type":"integer","format":"int32"},"etapeCourante":{"$ref":"#/components/schemas/Etape"},"defi":{"$ref":"#/components/schemas/Defi"},"reponses":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Reponse"}},"status":{"type":"string","enum":["ENCOURS","ABONDON","FINISHED","PAUSE"]},"indices":{"type":"array","items":{"$ref":"#/components/schemas/Indice"}},"reponseCourante":{"$ref":"#/components/schemas/Reponse"}}},"ArretDTO":{"type":"object","properties":{"codeArret":{"type":"string"},"nomArret":{"type":"string"},"streetMap":{"type":"string"}}},"ChamiDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"idGoogle":{"type":"string"},"age":{"type":"integer","format":"int32"},"bio":{"type":"string"},"username":{"type":"string"}}},"DefiDTO":{"type":"object","properties":{"id":{"type":"string"},"titre":{"type":"string"},"description":{"type":"string"},"version":{"type":"integer","format":"int64"},"duree":{"type":"string"},"auteur":{"$ref":"#/components/schemas/ChamiDTO"},"noteMoyenne":{"type":"number","format":"double"},"tags":{"type":"array","items":{"$ref":"#/components/schemas/TagDTO"}},"arretDTO":{"$ref":"#/components/schemas/ArretDTO"},"etapes":{"type":"array","items":{"$ref":"#/components/schemas/EtapeDTO"}},"dateCreation":{"type":"string","format":"date-time"},"dateDeModification":{"type":"string","format":"date-time"},"pointTotaux":{"type":"integer","format":"int32"}}},"EtapeDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"titre":{"type":"string"},"numero":{"type":"integer","format":"int32"},"description":{"type":"string"},"type":{"type":"string","enum":["TacheDTO","IndicationDTO"]},"text":{"type":"string"},"video":{"type":"string"},"image":{"type":"string"},"question":{"type":"string"},"point":{"type":"integer","format":"int32"},"nbIndices":{"type":"integer","format":"int32"}}},"TagDTO":{"type":"object","properties":{"tag":{"type":"string"},"defiIds":{"type":"array","items":{"type":"string"}}}},"ReponseDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"numero":{"type":"integer","format":"int32"},"nbIndicesUtilises":{"type":"integer","format":"int32"},"reponseUtilisateur":{"type":"string"},"isCorrect":{"type":"boolean"},"hasResponse":{"type":"boolean"}}},"VisiteDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"statut":{"type":"string","enum":["ENCOURS","ABONDON","FINISHED","PAUSE"]},"etapeCourante":{"$ref":"#/components/schemas/EtapeDTO"},"points":{"type":"integer","format":"int32"},"defi":{"$ref":"#/components/schemas/DefiDTO"},"reponseCourante":{"$ref":"#/components/schemas/ReponseDTO"}}},"IndiceDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"indice":{"type":"string"},"pointsPerdus":{"type":"integer","format":"int32"},"numIndice":{"type":"integer","format":"int32"}}}}}}
